delta=0.05
beta=0.98
psi_h=0.3
phi_h=0.4
from numpy import mean,std
from math import log
from random import gammavariate,betavariate,uniform
first_premium=[
1.064516129,
1.264516129,
1.120430108,
1.04516129,
1.079569892,
1.064516129,
1.11827957,
1.133333333,
1.066666667,
1.243010753,
1.148387097,
1.008602151,
1.103225806,
1.107526882,
1.062365591,
1.077419355,
1.11827957,
1.169892473,
1.253763441,
1.212903226,
1.075268817,
1.101075269,
1.101075269,
1.139784946,
1.16344086,
1.202150538,
1.219354839,
1.129032258,
1.109677419,
1.167741935,
1.268817204,
1.086021505,
1.094623656,
1.221505376,
1.178494624,
1.08172043,
1.116129032,
1.092473118,
1.064516129,
1.103225806,
1.264516129,
1.101075269,
1.03655914,
1.060215054,
1.064516129,
1.111827957,
1.129032258,
1.058064516,
1.223655914,
1.275268817,
1.008602151,
1.107526882,
1.096774194,
1.04516129,
1.079569892,
1.11827957,
1.172043011,
1.258064516,
1.197849462,
1.064516129
]
fisrt_chi=[
0.3,
0.3,
0.2,
0.2,
0.3,
0.3,
0.3,
0.3,
0.3,
0.3,
0.3,
0.35,
0.3,
0.3,
0.2,
0.3,
0.35,
0.3,
0.2,
0.3,
0.3,
0.3,
0.3,
0.3,
0.3,
0.2,
0.3,
0.2,
0.2,
0.3,
0.4,
0.2,
0.3,
0.3,
0.3,
0.2,
0.3,
0.3,
0.3,
0.3,
0.3,
0.2,
0.2,
0.3,
0.3,
0.3,
0.3,
0.3,
0.3,
0.3,
0.35,
0.3,
0.3,
0.2,
0.3,
0.35,
0.3,
0.2,
0.3,
0.3
]

second_chi=[
0.7,
0.4,
0.3,
0.3,
0.4,
0.6,
0.4,
0.4,
0.7,
0.3,
0.4,
0.7,
0.4,
0.4,
0.3,
0.4,
0.6,
0.8,
0.4,
0.3,
0.5,
0.5,
0.5,
0.8,
0.4,
0.3,
0.6,
0.4,
0.3,
0.45,
0.6,
0.45,
0.6,
0.5,
0.5,
0.3,
0.6,
0.7,
0.7,
0.3,
0.5,
0.3,
0.3,
0.4,
0.6,
0.4,
0.4,
0.7,
0.3,
0.6,
0.7,
0.4,
0.4,
0.3,
0.4,
0.8,
0.8,
0.4,
0.4,
0.7,
]
second_premium=[
1.172043011,
1.359139785,
1.187096774,
1.133333333,
1.139784946,
1.129032258,
1.187096774,
1.189247312,
1.135483871,
1.305376344,
1.210752688,
1.135483871,
1.148387097,
1.161290323,
1.129032258,
1.129032258,
1.225806452,
1.223655914,
1.305376344,
1.270967742,
1.144086022,
1.191397849,
1.152688172,
1.227956989,
1.221505376,
1.255913978,
1.28172043,
1.172043011,
1.159139785,
1.221505376,
1.322580645,
1.161290323,
1.146236559,
1.275268817,
1.23655914,
1.139784946,
1.152688172,
1.152688172,
1.129032258,
1.16344086,
1.367741935,
1.167741935,
1.129032258,
1.133333333,
1.129032258,
1.172043011,
1.184946237,
1.131182796,
1.270967742,
1.320430108,
1.135483871,
1.15483871,
1.150537634,
1.129032258,
1.133333333,
1.225806452,
1.230107527,
1.311827957,
1.249462366,
1.172043011,
]
mu_list=[]
xi_list=[]

sample_size=1000
E_R=0.03199
STD_R=0.01092
E_chi_c=0.2833
STD_chi_c=0.0471
E_premium_c=0.1275
STD_premium_c=0.0694


alpha_for_Beta=lambda mu,sigma:mu*(mu*(1-mu)/(sigma**2)-1)
beta_for_Beta=lambda mu,sigma:(1-mu)*(mu*(1-mu)/(sigma**2)-1)
beta_for_gamma=lambda mu,sigma:(sigma**2)/mu
alpha_for_gamma=lambda mu,sigma:mu/beta_for_gamma(mu,sigma)
R_alpha=alpha_for_Beta(E_R,STD_R)
R_beta=beta_for_Beta(E_R,STD_R)
chi_c_alpha=alpha_for_Beta(E_chi_c,STD_chi_c)
chi_c_beta=beta_for_Beta(E_chi_c,STD_chi_c)
premium_c_beta=beta_for_gamma(E_premium_c,STD_premium_c)
premium_c_alpha=alpha_for_gamma(E_premium_c,STD_premium_c)

while len(mu_list)<=sample_size:
    c_i=uniform(0,1)
    R=betavariate(alpha=R_alpha,beta=R_beta)
    chi = betavariate(alpha=chi_c_alpha, beta=chi_c_beta)
    premium = gammavariate(alpha=premium_c_alpha,beta=premium_c_beta)
    Rh = R*(1+premium)
    xi=1/(1+log(premium+1)/(log(1-chi)+log(R)))-1
    print("参数",chi,R*(1+premium))
    print("房贷年限", ((1 - chi) / R) ** (1 / (1 + xi)))
    xi_list.append(xi)
    mu=(psi_h+phi_h)/((1 - chi) / R) ** (1 / (1 + xi))
    mu_list.append(mu)
    print("Generated", len(mu_list), "th")
print(mean(mu_list),std(mu_list))
print(mean(xi_list),std(xi_list))